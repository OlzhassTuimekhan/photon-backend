# –†–µ–∑—é–º–µ –ø—Ä–æ–±–ª–µ–º –∏ —Ä–µ—à–µ–Ω–∏–π

## üî¥ –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏:

### 1. yfinance –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è/–¥–∞–µ—Ç —Ç–∞–π–º–∞—É—Ç—ã
**–ü—Ä–æ–±–ª–µ–º–∞:**
- yfinance API –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (91.147.104.165)
- –¢–∞–π–º–∞—É—Ç—ã –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞—Ö
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–∫—Ü–∏–π (AAPL –∏ —Ç.–¥.)

**–°–∏–º–ø—Ç–æ–º—ã:**
```
Timeout errors
Connection errors
Rate limiting
```

### 2. Bybit –¥–∞–µ—Ç —Ç–æ–ª—å–∫–æ 200 —Å–≤–µ—á–µ–∫
**–ü—Ä–æ–±–ª–µ–º–∞:**
- Bybit API –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –¥–æ 200 —Å–≤–µ—á–µ–∫
- –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏ (—Ç—Ä–µ–±–æ–≤–∞–ª–æ—Å—å –º–∏–Ω–∏–º—É–º 100 samples)
- –ú–æ–¥–µ–ª—å –Ω–µ –æ–±—É—á–∞–ª–∞—Å—å –∏–ª–∏ —Ä–∞–±–æ—Ç–∞–ª–∞ –ø–ª–æ—Ö–æ

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ú–æ–¥–µ–ª—å –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–ª–∞ —Ä–µ—à–µ–Ω–∏—è (—Ç–æ–ª—å–∫–æ HOLD)
- –¢–æ–ª—å–∫–æ 1-2 –ø–æ–∫—É–ø–∫–∏ –≤ backtest
- "Not enough historical data" –≤ –ª–æ–≥–∞—Ö

### 3. –ú–æ–¥–µ–ª—å –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –º–∞–ª—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –¥–∞–Ω–Ω—ã—Ö
**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ú–æ–¥–µ–ª—å —Ç—Ä–µ–±–æ–≤–∞–ª–∞ –º–∏–Ω–∏–º—É–º 100 samples –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
- –° 200 —Å–≤–µ—á–∫–∞–º–∏ Bybit –ø–æ–ª—É—á–∞–ª–æ—Å—å ~150-180 samples (–ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏)
- –ú–æ–¥–µ–ª—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω—ã—Ö

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ú–æ–¥–µ–ª—å –Ω–µ –æ–±—É—á–∞–ª–∞—Å—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü–ª–æ—Ö–∏–µ —Ä–µ—à–µ–Ω–∏—è (—Ç–æ–ª—å–∫–æ HOLD –∏–ª–∏ —Å–ª—É—á–∞–π–Ω—ã–µ)
- –ù–∏–∑–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å

---

## ‚úÖ –†–µ—à–µ–Ω–∏—è:

### 1. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ CSV —Ñ–∞–π–ª–æ–≤ –¥–ª—è backtest
**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—â–µ—Ç CSV —Ñ–∞–π–ª—ã –≤ `./data/` –∏–ª–∏ `./backend/data/`
- –§–æ—Ä–º–∞—Ç: `{SYMBOL}.csv` –∏–ª–∏ `{SYMBOL}_{INTERVAL}.csv`
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: CSV ‚Üí –ö–µ—à ‚Üí yfinance/Bybit

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `backend/trading/agents/market_monitor.py`:
  - –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `_load_from_csv_file()`
  - CSV –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ü–ï–†–ï–î –∑–∞–ø—Ä–æ—Å–æ–º –∫ yfinance

### 2. –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ yfinance
**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- –£–≤–µ–ª–∏—á–µ–Ω—ã –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏ (10+ —Å–µ–∫—É–Ω–¥ –≤–º–µ—Å—Ç–æ 5)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –Ω–∞ –∫–µ—à (–¥–∞–∂–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏–π)
- Fallback –Ω–∞ CSV —Ñ–∞–π–ª—ã
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `backend/trading/agents/market_monitor.py`:
  - –£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ retry
  - –î–æ–±–∞–≤–ª–µ–Ω—ã fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã

### 3. –£–ª—É—á—à–µ–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- –ú–∏–Ω–∏–º—É–º samples —Å–Ω–∏–∂–µ–Ω —Å 100 –¥–æ 30
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:
  - < 50 samples: n_estimators=20, max_depth=3
  - < 100 samples: n_estimators=50, max_depth=5
  - >= 100 samples: n_estimators=100, max_depth=10
- –ú–µ–Ω—å—à–∏–π test_size –¥–ª—è –º–∞–ª—ã—Ö –¥–∞—Ç–∞—Å–µ—Ç–æ–≤ (0.1 –≤–º–µ—Å—Ç–æ 0.2)

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `backend/trading/agents/decision_maker.py`:
  - –ò–∑–º–µ–Ω–µ–Ω `_train_initial_model()`
  - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏

### 4. –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- –ù–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ `download_historical_data` –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ CSV
- –†–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –µ—Å–ª–∏ yfinance –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–µ—à)

**–ù–æ–≤—ã–π —Ñ–∞–π–ª:**
- `backend/trading/management/commands/download_historical_data.py`

---

## üß™ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã:

### –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑ CSV

```bash
# 1. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π CSV —Ñ–∞–π–ª
mkdir -p ./data
cat > ./data/AAPL_1h.csv << 'EOF'
,Open,High,Low,Close,Volume
2024-11-01 00:00:00,150.0,151.0,149.0,150.5,1000000
2024-11-01 01:00:00,150.5,152.0,150.0,151.5,1200000
2024-11-01 02:00:00,151.5,153.0,151.0,152.0,1100000
EOF

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ backtest (–¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSV)
docker compose exec backend python manage.py backtest_simulation \
  --email madibaizhuman@gmail.com \
  --symbol AAPL \
  --start-date 2024-11-01 \
  --end-date 2024-11-02 \
  --interval 1h \
  --speed 0.1

# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
# ‚úì "Loaded data from CSV file for AAPL" –≤ –ª–æ–≥–∞—Ö
# ‚úì Backtest —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
```

### –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

```bash
# –°–∫–∞—á–∞–π—Ç–µ –¥–∞–Ω–Ω—ã–µ (–¥–∞–∂–µ –µ—Å–ª–∏ yfinance –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–µ—à)
docker compose exec backend python manage.py download_historical_data \
  --symbol AAPL \
  --period 1mo \
  --interval 1h \
  --output-dir ./data

# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
# ‚úì –§–∞–π–ª —Å–æ–∑–¥–∞–Ω: ./data/AAPL_1h.csv
# ‚úì –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã (–¥–∞–∂–µ –µ—Å–ª–∏ yfinance –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è)
```

### –¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –º–æ–¥–µ–ª–∏ —Å –º–∞–ª—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –¥–∞–Ω–Ω—ã—Ö

```bash
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Bybit (200 —Å–≤–µ—á–µ–∫) –∏–ª–∏ –∫–æ—Ä–æ—Ç–∫–∏–π –ø–µ—Ä–∏–æ–¥
docker compose exec backend python manage.py backtest_simulation \
  --email madibaizhuman@gmail.com \
  --symbol BTCUSDT \
  --start-date 2024-11-01 \
  --end-date 2024-12-01 \
  --interval 1h \
  --speed 0.1

# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –ª–æ–≥–∞—Ö:
# ‚úì "Using {N} historical samples for training" (–≥–¥–µ N >= 30)
# ‚úì "Small dataset ({N} samples), using reduced model complexity" (–µ—Å–ª–∏ N < 100)
# ‚úì –ú–æ–¥–µ–ª—å –æ–±—É—á–∞–µ—Ç—Å—è –∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è (–Ω–µ —Ç–æ–ª—å–∫–æ HOLD)
# ‚úì –ë–æ–ª—å—à–µ —á–µ–º 1-2 –ø–æ–∫—É–ø–∫–∏ –≤ backtest
```

### –¢–µ—Å—Ç 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ fallback –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤

```bash
# 1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ yfinance –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è (–∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ backtest –ë–ï–ó CSV —Ñ–∞–π–ª–∞
docker compose exec backend python manage.py backtest_simulation \
  --email madibaizhuman@gmail.com \
  --symbol AAPL \
  --start-date 2024-11-01 \
  --end-date 2024-12-01 \
  --interval 1h

# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
# ‚úì –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–±—É–µ—Ç yfinance (–º–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å)
# ‚úì –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–µ—à (–µ—Å–ª–∏ –µ—Å—Ç—å)
# ‚úì –ò–ª–∏ –≤—ã–¥–∞–µ—Ç –ø–æ–Ω—è—Ç–Ω—É—é –æ—à–∏–±–∫—É —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π
```

### –¢–µ—Å—Ç 5: –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# 1. –°–∫–∞—á–∞–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –∑–∞—Ä–∞–Ω–µ–µ
docker compose exec backend python manage.py download_historical_data \
  --symbol AAPL \
  --period 1y \
  --interval 1h \
  --output-dir ./data

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω
ls -lh ./data/AAPL_1h.csv

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ backtest
docker compose exec backend python manage.py backtest_simulation \
  --email madibaizhuman@gmail.com \
  --symbol AAPL \
  --start-date 2024-11-01 \
  --end-date 2024-12-01 \
  --interval 1h \
  --speed 0.1 \
  --initial-balance 10000.00

# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
# ‚úì "Loaded data from CSV file for AAPL" –≤ –ª–æ–≥–∞—Ö
# ‚úì –ú–æ–¥–µ–ª—å –æ–±—É—á–∞–µ—Ç—Å—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
# ‚úì –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è (BUY/SELL/HOLD)
# ‚úì –í—ã–ø–æ–ª–Ω—è–µ—Ç —Å–¥–µ–ª–∫–∏ (–±–æ–ª—å—à–µ —á–µ–º 1-2)
# ‚úì –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ –∫–æ–Ω—Ü–µ
```

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- ‚ùå yfinance –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è ‚Üí –æ—à–∏–±–∫–∞
- ‚ùå 200 —Å–≤–µ—á–µ–∫ Bybit ‚Üí –º–æ–¥–µ–ª—å –Ω–µ –æ–±—É—á–∞–µ—Ç—Å—è
- ‚ùå –¢–æ–ª—å–∫–æ 1-2 –ø–æ–∫—É–ø–∫–∏ –≤ backtest
- ‚ùå –ú–æ–¥–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- ‚úÖ CSV —Ñ–∞–π–ª—ã —Ä–∞–±–æ—Ç–∞—é—Ç ‚Üí backtest —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ 200 —Å–≤–µ—á–µ–∫ ‚Üí –º–æ–¥–µ–ª—å –æ–±—É—á–∞–µ—Ç—Å—è (–º–∏–Ω–∏–º—É–º 30 samples)
- ‚úÖ –ë–æ–ª—å—à–µ –ø–æ–∫—É–ø–æ–∫/–ø—Ä–æ–¥–∞–∂ –≤ backtest
- ‚úÖ –ú–æ–¥–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

---

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ª–æ–≥–∞—Ö:

### –£—Å–ø–µ—à–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ CSV:
```
[INFO] Loaded data from CSV file for AAPL
[INFO] Successfully loaded {N} records from CSV file
```

### –£—Å–ø–µ—à–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏:
```
[INFO] Training initial AI model...
[INFO] Attempting to train on real historical data...
[INFO] Using {N} historical samples for training
[INFO] Small dataset ({N} samples), using reduced model complexity  # –µ—Å–ª–∏ N < 100
[INFO] Model trained. Train accuracy: {X}, Test accuracy: {Y}
```

### –ú–æ–¥–µ–ª—å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è:
```
[INFO] Received market data for AAPL
[INFO] Decision: BUY (confidence: 0.65)
[INFO] Decision: SELL (confidence: 0.72)
```

### –ü—Ä–æ–±–ª–µ–º—ã (–µ—Å–ª–∏ –µ—Å—Ç—å):
```
[WARNING] yfinance appears to be blocked/timing out
[WARNING] Using stale data from cache for AAPL (yfinance failed)
[WARNING] Not enough historical data ({N} samples, need 30)
```

---

## üöÄ –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ 91.147.104.165

# 1. –°–∫–∞—á–∞–π—Ç–µ –¥–∞–Ω–Ω—ã–µ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–µ—à –µ—Å–ª–∏ yfinance –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
docker compose exec backend python manage.py download_historical_data \
  --symbol AAPL \
  --period 1mo \
  --interval 1h

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª
ls -lh ./data/AAPL_1h.csv

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ—Ä–æ—Ç–∫–∏–π backtest
docker compose exec backend python manage.py backtest_simulation \
  --email madibaizhuman@gmail.com \
  --symbol AAPL \
  --start-date 2024-11-01 \
  --end-date 2024-11-05 \
  --interval 1h \
  --speed 0.1

# 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
docker compose logs backend | grep -i "csv\|training\|decision"
```

---

## ‚ùì –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **CSV –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å: `./data/` –∏–ª–∏ `./backend/data/`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç: –∫–æ–ª–æ–Ω–∫–∏ Open, High, Low, Close, Volume
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–º—è —Ñ–∞–π–ª–∞: `{SYMBOL}.csv` –∏–ª–∏ `{SYMBOL}_{INTERVAL}.csv`

2. **–ú–æ–¥–µ–ª—å –Ω–µ –æ–±—É—á–∞–µ—Ç—Å—è:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å "Using {N} historical samples"
   - –ï—Å–ª–∏ N < 30, –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
   - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–∫–∞—á–∞—Ç—å –±–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö

3. **–í—Å–µ –µ—â–µ —Ç–æ–ª—å–∫–æ HOLD:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `min_confidence` –≤ backtest (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 0.15)
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –º–æ–¥–µ–ª–∏: accuracy –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å > 0.5
   - –£–≤–µ–ª–∏—á—å—Ç–µ –ø–µ—Ä–∏–æ–¥ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–±—É—á–µ–Ω–∏—è

4. **yfinance –≤—Å–µ –µ—â–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è:**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ CSV —Ñ–∞–π–ª—ã (—Å–∫–∞—á–∞–π—Ç–µ –∑–∞—Ä–∞–Ω–µ–µ)
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–µ—à (–µ—Å–ª–∏ –µ—Å—Ç—å —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ)

